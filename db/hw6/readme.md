#Задача 1

###операции для остановки запроса пользователя

    Выполню команду db.currentOp() для просмотра всех операций.
    Думаю, мне будет известна более детальная информация по запросу пользователя, смогу указать в команде
    db.currentOp() дополнительные параметры, например 
    
    db.currentOp({
    "active" : true,
    "secs_running" : { "$gt" : 10 },
    "op": "update",
    "ns": /^mydb\./
    })
    
    эта команда выполняет поиск активных операций update в базе mydb, которые выполняются более 10 секунд.
    Такой поиск сильно облегчит поиск длительных операций.
    
    Каждая операция имеет свой уникальный идентификатор opid, который может быть использоваться для 
    завершения данной операции с помощью команды db.killOP() 
    
    db.killOP(<opid>) 

###решение проблемы с долгими (зависающими) запросами

    Предполагаю, что создание индекса сделает выборку данных менее ресурсозатратным процессом.
    При наличии достаточного количества вычислительных ресурсов рассмотрю шардинг, как вариант решения
    с доступностью даннных. Шардинг – это процесс хранения документов на нескольких серверах и это способ, 
    которым MongoDB справляется с большими данными.

#Задача 2

    Предполагаю, что Redis исчерпал все ресурсы сервера: скорее всего закончилась оперативная память.
    Может диски переполнены.

#Задача 3

###причины

    Предполагаю, что запросы стали выполняться длительное время.
    Попробую сделать анализ SQL запрос с жалобами, попробую определить узкий список проблемных таблиц.

###решение

    1) если жалобы происходят на разнообразные запросы пользователей буду производить анализ ресурсов сервера.
    Добавлю ресурсов CPU, RAM или увеличу параметры connect_timeout, interactive_timeout, wait_timeout базы
    Еще вариант решения понять реплику базы и поставлю балансировщик нагрузки если будут позволять ресурсы.    
       
    2) если получится выявить таблицы, которые увеличились в размере, то буду пробовать оптимизировать запросы
    попробую создать индексы, секционировать проблемную таблицу.

#Задача 4

    Если в системе мало памяти и освободить ее невозможно остается только завершить один или несколько процессов. 
    OOM-killer должен сначала выполнить проверки и на их основе решить, что нужно завершить процесс. 
    Если все проверки дадут положительный результат, OOM завершит процесс.
    
    Попробую увеличить объем оперативной памяти, изменив параметр shared_buffers 
